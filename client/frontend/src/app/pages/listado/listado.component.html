<div class="p-4">
  <p-card header="Listado de Automotores">
    <div class="mb-3">
      <p-button 
        label="Nuevo Automotor" 
        icon="pi pi-plus" 
        (onClick)="nuevoAutomotor()"
        severity="success">
      </p-button>
    </div>
    
    <p-table 
      [value]="automotores" 
      [loading]="loading"
      [paginator]="true" 
      [rows]="rows"
      [totalRecords]="totalRecords"
      [first]="first"
      [showCurrentPageReport]="true"
      currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} automotores"
      [tableStyle]="{'min-width': '50rem'}"
      (onPage)="onPageChange($event)">
      
      <ng-template pTemplate="header">
        <tr>
          <th>Dominio</th>
          <th>Color</th>
          <th>Fabricación</th>
          <th>CUIT Dueño</th>
          <th>Nombre Dueño</th>
          <th>Acciones</th>
        </tr>
      </ng-template>
      
      <ng-template pTemplate="body" let-item>
        <tr>
          <td>{{ item.dominio }}</td>
          <td>{{ item.color }}</td>
          <td>{{ item.fecha_fabricacion }}</td>
          <td>{{ item.cuit_dueno }}</td>
          <td>{{ item.denominacion_dueno }}</td>
          <td>
            <p-button 
              icon="pi pi-pencil" 
              [outlined]="true"
              severity="success"
              size="small"
              (onClick)="editarAutomotor(item.dominio)">
            </p-button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>
</div>
